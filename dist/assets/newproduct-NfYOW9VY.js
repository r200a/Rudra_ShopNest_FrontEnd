import{f as N,r as a,Q as P,l as w,j as e}from"./index-5J6CPnOR.js";import{A as C}from"./AdminSidebar-7q_xd2uJ.js";import{r as k}from"./features-CNJYsk9Y.js";import"./index-CCu9zh4G.js";const E=()=>{const{user:n}=N(t=>t.userReducer),[o,p]=a.useState(""),[i,h]=a.useState(""),[c,x]=a.useState(1e3),[l,g]=a.useState(1),[u,j]=a.useState(""),[d,v]=a.useState(),[f]=P(),b=w(),S=t=>{var m;const r=(m=t.target.files)==null?void 0:m[0],s=new FileReader;r&&(s.readAsDataURL(r),s.onloadend=()=>{typeof s.result=="string"&&(j(s.result),v(r))})},y=async t=>{if(t.preventDefault(),!o||!c||l<0||!i||!d)return;const r=new FormData;r.set("name",o),r.set("price",c.toString()),r.set("stock",l.toString()),r.set("photo",d),r.set("category",i);const s=await f({id:n==null?void 0:n._id,formData:r});k(s,b,"/admin/product")};return e.jsxs("div",{className:"admin-container",children:[e.jsx(C,{}),e.jsx("main",{className:"product-management",children:e.jsx("article",{children:e.jsxs("form",{onSubmit:y,children:[e.jsx("h2",{children:"New Product"}),e.jsxs("div",{children:[e.jsx("label",{children:"Name"}),e.jsx("input",{required:!0,type:"text",placeholder:"Name",value:o,onChange:t=>p(t.target.value)})]}),e.jsxs("div",{children:[e.jsx("label",{children:"Price"}),e.jsx("input",{required:!0,type:"number",placeholder:"Price",value:c,onChange:t=>x(Number(t.target.value))})]}),e.jsxs("div",{children:[e.jsx("label",{children:"Stock"}),e.jsx("input",{required:!0,type:"number",placeholder:"Stock",value:l,onChange:t=>g(Number(t.target.value))})]}),e.jsxs("div",{children:[e.jsx("label",{children:"Category"}),e.jsx("input",{required:!0,type:"text",placeholder:"eg. laptop, camera etc",value:i,onChange:t=>h(t.target.value)})]}),e.jsxs("div",{children:[e.jsx("label",{children:"Photo"}),e.jsx("input",{required:!0,type:"file",onChange:S})]}),u&&e.jsx("img",{src:u,alt:"New Image"}),e.jsx("button",{type:"submit",children:"Create"})]})})})]})};export{E as default};
