import{f as $,T as v,l as O,X as T,Y as D,Z as k,j as s,N as A,S as L,s as M,e as P,L as w}from"./index-5J6CPnOR.js";import{A as E}from"./AdminSidebar-7q_xd2uJ.js";import{r as o}from"./features-CNJYsk9Y.js";import"./index-CCu9zh4G.js";const F={shippingInfo:{address:"",city:"",state:"",country:"",pinCode:""},status:"",subtotal:0,discount:0,shippingCharges:0,tax:0,total:0,orderItems:[],user:{name:"",_id:""},_id:""},Q=()=>{const{user:t}=$(e=>e.userReducer),d=v(),n=O(),{isLoading:a,data:r,isError:c}=T(d.id),{shippingInfo:{address:l,city:p,state:u,country:h,pinCode:m},orderItems:x,user:{name:j},status:i,tax:g,subtotal:I,total:f,discount:N,shippingCharges:S}=(r==null?void 0:r.order)||F,[y]=D(),[_]=k(),b=async()=>{const e=await y({userId:t==null?void 0:t._id,orderId:r==null?void 0:r.order._id});o(e,n,"/admin/transaction")},C=async()=>{const e=await _({userId:t==null?void 0:t._id,orderId:r==null?void 0:r.order._id});o(e,n,"/admin/transaction")};return c?s.jsx(A,{to:"/404"}):s.jsxs("div",{className:"admin-container",children:[s.jsx(E,{}),s.jsx("main",{className:"product-management",children:a?s.jsx(L,{}):s.jsxs(s.Fragment,{children:[s.jsxs("section",{style:{padding:"2rem"},children:[s.jsx("h2",{children:"Order Items"}),x.map(e=>s.jsx(H,{name:e.name,photo:`${M}/${e.photo}`,productId:e.productId,_id:e._id,quantity:e.quantity,price:e.price},e._id))]}),s.jsxs("article",{className:"shipping-info-card",children:[s.jsx("button",{className:"product-delete-btn",onClick:C,children:s.jsx(P,{})}),s.jsx("h1",{children:"Order Info"}),s.jsx("h5",{children:"User Info"}),s.jsxs("p",{children:["Name: ",j]}),s.jsxs("p",{children:["Address:"," ",`${l}, ${p}, ${u}, ${h} ${m}`]}),s.jsx("h5",{children:"Amount Info"}),s.jsxs("p",{children:["Subtotal: ",I]}),s.jsxs("p",{children:["Shipping Charges: ",S]}),s.jsxs("p",{children:["Tax: ",g]}),s.jsxs("p",{children:["Discount: ",N]}),s.jsxs("p",{children:["Total: ",f]}),s.jsx("h5",{children:"Status Info"}),s.jsxs("p",{children:["Status:"," ",s.jsx("span",{className:i==="Delivered"?"purple":i==="Shipped"?"green":"red",children:i})]}),s.jsx("button",{className:"shipping-btn",onClick:b,children:"Process Status"})]})]})})]})},H=({name:t,photo:d,price:n,quantity:a,productId:r})=>s.jsxs("div",{className:"transaction-product-card",children:[s.jsx("img",{src:d,alt:t}),s.jsx(w,{to:`/product/${r}`,children:t}),s.jsxs("span",{children:["₹",n," X ",a," = ₹",n*a]})]});export{Q as default};
