import{f as u,E as l,r as t,_ as x,j as e,s as h,L as c,S as j,F as f}from"./index-CEK-I0Kg.js";import{A as g}from"./AdminSidebar-KJgy-P9M.js";import{T as S}from"./TableHOC-mqfr3uow.js";import"./index-lEKOtHBO.js";const b=[{Header:"Photo",accessor:"photo"},{Header:"Name",accessor:"name"},{Header:"Price",accessor:"price"},{Header:"Stock",accessor:"stock"},{Header:"Action",accessor:"action"}],E=()=>{const{user:r}=u(s=>s.userReducer),{isLoading:n,isError:d,error:i,data:o}=l(r==null?void 0:r._id),[a,m]=t.useState([]);if(d){const s=i;x.error(s.data.message)}t.useEffect(()=>{o&&m(o.products.map(s=>({photo:e.jsx("img",{alt:"Something went wrong",src:`${h}/${s.photo}`}),name:s.name,price:s.price,stock:s.stock,action:e.jsx(c,{to:`/admin/product/${s._id}`,children:"Manage"})})))},[o]);const p=S(b,a,"dashboard-product-box","Products",a.length>6)();return e.jsxs("div",{className:"admin-container",children:[e.jsx(g,{}),e.jsx("main",{children:n?e.jsx(j,{}):p}),e.jsx(c,{to:"/admin/product/new",className:"create-product-btn",children:e.jsx(f,{})})]})};export{E as default};
